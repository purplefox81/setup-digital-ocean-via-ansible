# ===== about the hosts, host group and inventory file
# hosts is an inventory file in plain text format that ansible query for every command
# if we have ansible.cfg on the current directory, ansible will read it and take the inventory file from the default path
# with that, we can omit all "-i hosts" below 

# ===== about the user
# on my mac i am using user 'onai', so i always need to switch to 'root' user while testing on digital ocean cloud instances

# ===== Adhoc Ansible Commands
# log in as root user and do a ping (using module ping) on all servers / playground
ansible -i hosts all -u root -m ping
ansible -i hosts playground -u root -m ping
or simply, ansible all/playground -u root -m ping

# log in as root to check free disk stat on all servers
ansible -i hosts all -u root -m shell -a 'df -h'

# ====== Adhoc Ansible Playbooks
# log in as root and perform actions according to the given playbook
# install a nginx server to the target servers, and copy index.html to /usr/share/nginx/html/index.html
ansible-playbook -i hosts -u root nginx-setup.yml
# after running the above playbook, ssh to the cloud instance, open etc/nginx/sites-available/default
# change line `#root /var/www/html;` to `root /usr/share/nginx/html;`
# this will make the nginx to load the website from /usr/share/nginx/html directory
# now restart nginx by `service nginx start/stop/quit/restart/reload`
# btw `systemctl start/stop/.../reload nginx` is not working

# ===== Ansible Playbook organized in multiple role structures
# a role-based sample playbook which install the curl,dig,git,etc
ansible-playbook -i hosts -u root playbook-by-role-xxx.yml

